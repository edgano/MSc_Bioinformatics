def parse_fasta(fasta):
    results = []
    strings = fasta.strip().split('>')

    for x in strings:
        if len(x):
            parts = x.split()
            k = parts[0]
            v = ''.join(parts[1:])
            results.append((k, v))
    return results


def overlap_graph(fasta, n):
    results = []

    dna = parse_fasta(fasta)

    for k1, v1 in dna:
        for k2, v2 in dna:
            if k1 != k2 and v1.endswith(v2[:n]):
                results.append((k1, k2))
    return results

small_dataset = """
>Rosalind_1884
CGCATTCCGATGTCTTTCTCAATGTAACAGCTACATCCTGGATAGGAACTCCTTGCACTCAACCCGAACGTATGGTTCAAGC
>Rosalind_8001
TTTTGCGTTATTGGCCCGGGCACGGGCCTTTTAGAACACCGCTCTACGCTCCAGGTCACTAGGGGCCTGTGGACGCGTCCGAACTCC
>Rosalind_0166
CGCCACGTAAGAATCGTCACCAACAAACCACCGCTGATTGCGTAATGCGGCCCTCGTCCGGGCGCCGATTCAGGGTCCGAC
>Rosalind_5493
TAGGTGCGGTGAACACGAGACCTTATAGTGGTGGGATGTCACTCCCACACCACACGCTAACTCAAGTCAAGATGTATCGCCATCTGTTT
>Rosalind_4278
ACAAGGTCCGGCCCTTGGGATGCCTCGGTCACTCCCTGGGCCGTGGAGGAGCAACTCGTTTTGTCCAACCACGGCGACGCGTTATCTGGCATTG
>Rosalind_8493
CAGTAGCTTCTCCAGCCAGCCTTAATACATCCGAATGTCTCCCTCAGATCACAGGTAATCCTGACTGGTGCGAAAACCGCCGGGAATACGGCGATATG
>Rosalind_1426
GCTACGGGTTGGTGACTCAACGCTTGCGTACTGCAAACGCCCAAAATGTTGAGCTTAATCGCTGTGCTACGTGCAATCCCGGG
>Rosalind_5069
CCAAGAAGGAATGCGAATATTATTCGTGTGGGCGGACGCGTGCCACCAGGCGGAGTGTTAACATAGTCACGCGCTCCCCTCCTTCGAGCAGG
>Rosalind_7981
CGCCCAGACATCTCTCTTACACCCCATCATTGGAGGTTTCTCAGCCTGGCCGGGGCGACCGCTTTTTTCCGCGAATGCACTGAAT
>Rosalind_0219
ACTAGTGGGTAACCGGGTGATGTTATCTTTTGAACCTACGACGCACTGCTGGAGCCTGACTTTCAAATCCAGGCTAAAGATCGTTTAACGAATGCGA
>Rosalind_9341
CCACTAAACGAACCCATGTTCGATAAGTGGATAGGCACCCCCCGTCAGCACTAATGCTTTACAGTCAGAGACCGAAGGTGCTTAGACAATTT
>Rosalind_4625
GGAATCGTAAACCCAGGGGGTCATACTGAGCCTCCAAATCCACTCAATCGAATTCGTCAAGGAAGTTGGACTCTCAGTGATCTTTCTGCGTGAG
>Rosalind_2738
CCTTATATGCTCACTGATTGCATCTGCCGCTATATGGGGGAAACGCCATACAATAATAGCTCCCGGTATATGTCGCTCGAGCAGATCTATGACTA
>Rosalind_4296
GAATCCTCTCACAAAGTTCCATCAGATTGGGACATGTTCTATCAGAGGGTCGTTGGGGCGCCGAACCACCCAAGACCCGACTG
>Rosalind_5252
CCCGTTATCAAAACCCTTGCGTCCCCTATATTAAAAAAAACAGTGTTGCGTCCCCGGGCACACTTATGTCTTCTTAAATGTCCTGC
>Rosalind_9384
CCGGTTCGCGTGCAGCGCATCCGGCTCTTAGTTCTAGAGACAAAGGTTTAGGCTGTAATATATGCTCACCTCCGGCGCCTGAGAGTAGAAAAGGTCT
>Rosalind_2031
TCCGCCACTTAGGCAAATGTACTCCAATAAGTACAGACGGGGGAGTCCGCTTCTGTCGCAAGGGACGCTCCTCAATACTTATAATCAAATTGGTGATTCA
>Rosalind_2186
CCTTGAGAGTACGCCCTACTTTTTTTGGGATCGTGCAACTCTGGTTACACAAATCTCTCTCGGCGAAAGAATCATTGATGTTACACTTGGACAAGG
>Rosalind_3116
GGAATGACTCGGTAAATACAGCGATTGCACGCACCCCCCGGATGGTCCAGCTAGCAACGATGTAAGGTCATCATAAGGGAT
>Rosalind_7723
GCGCGCGGTACTAAAACAGACGACGCTCGGCGGCACCAGGTGGGGTATGCTTTTGCCTCATTAATCATAACTTGTTTCGTGTTTTC
>Rosalind_6014
TATGTTCAGAAGAATAACTTAGGAGGGTCATGTGTTGCTGAATCATCCGCTTAGTTTAGGAATAGCGCCAAAGAGGATGGCACCTTC
>Rosalind_9396
TCGTACACCATCGAACTTAGTTCTGCTTGACACACGTTGGGGGTGTAGGTAAAAAACCGAACCATGTTCATAATACGAGCGGGATGTG
>Rosalind_6817
CCCAATTAGCTTTTGTGGACCGACGGTGCAAAGTAATGAAACAGATACCGCGCGTGAATCGCTTGCAGCACGGGAGCAACC
>Rosalind_2790
GACTCAAGTTGGGCAGGACTAGTCTTCTACAGTGTCTATCACCCTTCTGTACTGCCACGGGTAGCCCTAGACCGAACCTGGTGGGAA
>Rosalind_9908
ATGGCCATGGCCCATCCGGTTAAGTTACAAGATGACGAGATACCTTTTGTTATGAAATCTGCTGGTCGGTGAATGAGGTTCCTCGGTACCAGTGGCGT
>Rosalind_4693
TTATGTTAGACCCCGTAGAACTATTCCCGCTTGCGGTAGGATATCCCAGAAATATACCTTTTTGCCAGTTTCTATCGGCGTGTTCGGCTGAGCT
>Rosalind_7491
ACTCCACAGCCAGGGTGGGTTAAGCGAGGCAATCTATGAACCCCGTTCTTTGCCTTGCGAATGTCGCCCCTCTTCAACCATCAGGGGGTCCAAAGGATA
>Rosalind_1549
TCACGAGGTATCAAGATACCTATTCAAGCTAGTCCAGGTGGGAGATCCATTGACTTTCATGGCGGCTCGATTGTTGGTAT
>Rosalind_8054
TATGAGTGCGTGCTCTCTGGGCCCGCGTCTTCCAGGAAACGGTCTCTTACACATGAATTGCGGTGAGAGACAGGTTAGGTTTCGTTC
>Rosalind_3878
ACCGTGGGGCTGACAGTGCCTCACGATTGGTATAACGTGATATAATTTAGGGCCTACACGGATTACTCGGCTCTAAGTGTGGAACTAGCCGCCC
>Rosalind_6664
CGTCATGCCTGCCCGATTTCGGTTCGATACTTCCCGCGGCATTAGCTGAGATGGTTTGGACCGAGGCGTATCTCGGTCAGCATTCTTCGAACAGACGGGA
>Rosalind_1761
TTAAGCTGGCCCCATGAACCCCGAATTTGTAGCGACTCCAAAGTTAGGCCCCCTAGTCCCTGCTATTAATCCCAAATGCATATTAGGAGTGCACGTACT
>Rosalind_4921
CTACGTCACGCACGCACTCCGACCCCTACGTACACAAGGACTATTAGTGAACTACAAGCACAAAGAGAATTAACTCAACAAGAGCCCGTATTTA
>Rosalind_9095
GCTGGGGAAGGATAAACTCCTGTTCCAGCAATTCATCCTGCAGAGGCAGGCAGCCGGGGGAAGCTACTGGTAGACCCTCATCA
>Rosalind_3248
ATCCAGTGGACGGGTGATGTTATATTACGTCAAAAAGGCAAAGAGTGCCGAGTGCTCACTCATAGGGTCTGCCCCTATTGTAGTTGATT
>Rosalind_9305
TTACCAGAAGATATGAAGCCTGGAAATCACCGGAGGTTGAACGGCTGCCCTAAATAAAGCGCCACGCCCATCCACACTTGT
>Rosalind_8756
ACAATCTAAGTGCAAGTCGTGCGGGTTCGCTACATCTTAAGCCCCAGTGGTCAGCGTACATACGCCACTATTATTCACATCATT
>Rosalind_6889
TCATACGTGTCTGCAATACTGTCGCGGGCACCTGGTCGTAGCTTGCATCAGCATCATCGTGGGTTAGACAGTTGCTCCGAGTTAGGGCTCCGCGTATAG
>Rosalind_9840
CGACACATTCACTCACCCGGGGAGACCAGACTGATAGGTCCCCATGCTCCCAATAAGCGTTAGCGTCTGACAAATTTTCCTCAGCGGAAAATCACA
>Rosalind_8935
GGCGGGGTGGCAACGGGCTTGCTTAATCCAGGCCAGCAGTGACTTCATAGTTAGATGCGAAACAGAGCCATAACCTTATCCTCGCTCGAG
>Rosalind_0362
TTAGATTAAAGGGCCGGGTTTATCGGGTCAAGCCCTGAATGTGTTCGATATGTGCGGAACGGCATTATCTCGGGATTGTGCAAAAAC
>Rosalind_1144
CTAGCGTGCTTCTTATACGTTGCCATTGATCATCTGAATGAACAAAATAGCTATGCAATAATCAGGATCTGGGCCGTCAGGCTTATTA
>Rosalind_7209
GTTTACAGTAGAGAGGCCGTTCAGTATCCGGGCTCTTGCACGCGCCTGGACCGGAACAGAACAGAATTTTCCCTTACGTGATTGTTCCAATTGTCG
>Rosalind_4175
CCCACTAGAATGGTGCAAATGATCTACTGACTGGGCCGGTAACATGGACCTACAGGACCCCGGGATCCAGAGTGACCGCGACATTCAAGTAGAAG
>Rosalind_9990
TCGAAGACCGAGGCTCCGCATCTTTGCCGGAGAAATCAGTGCCAGCGTGCTGGAGAGCAACGCCATGGACTTACAAAAAG
>Rosalind_2043
GCGTGCCTAAGGGGATCTTTGGTTGACTCATTGGACACGAAAAGTTGACAGAAAACTCGAGTATCATAAGAGGAGGTACGGAAAC
>Rosalind_9629
ATAAGGCAGCCGAATTGACTGGATGGCAAGATCTTTGAAGGATGGGGTCTACAGAATTGCCCGTGAATAGCCGGTACCTCAC
>Rosalind_0422
AAGATGGTAAGTCGAACCGCACTCTGGTGCCGTGAGTGCAGATTGACGGTATGTCCTGCCAGTGATGGGACACGAACCACTC
>Rosalind_6907
ACTTAGCCAATTTTGATTTCCCGCCATTGCATAGCGAGATTTATGACTTCGACTACAGACCTGGTTGGCCGTGCAGAAGATGCGTTATTATAT
>Rosalind_5922
TTCGTTCCCATAGCGTCTTGAAAACTCTAGGGGAACAAGCCTAGGCGTAACATAACTAGGTTTTCCATGTCTCGAACTTGCTAATGATAGTGCAG
>Rosalind_7310
TGCGGTGCCCCTCTGGTAGGGAGGCCGGGTCCCTCGGGTTGCAAACCCATTTTGCAGTTTGCGGGGTGGTCACGTGAACATGCCCGCTAGCGTGATTTAA
>Rosalind_1185
AGAGCTCATAGGGCTAGGCAGCCTGAGCTAGTCAATTCGCCGGGGTATTGAATTATTTTGCTTTGAATCACTTGAGAGGTTTTAGCA
>Rosalind_2909
GGGCGTTTAAGCTCGGTCTTTAGTTTTTATGTTCCACTGATTTTTTATAGGCTTCCACAGTCCATAACGCGTATCGCAAGAGC
>Rosalind_4219
ACAAGCTCACCTTGTTTTTGACTAACTTATATTCTGGTCTGTGTGCCGTGAACAGGAATGAAATGCTCGGGAGGACTATTTAGAG
>Rosalind_3513
ATTGACCGAAAAACTTGGTGCTTGCGGTCTAGTCCAAACTTAACATCGTACGTCTAACGTGCTCTTTTACTTACATTACCATTGCTGACGCTCCGAATA
>Rosalind_7116
GAGTACCGTCACAGATGTAAACAAAGAATTTTCGTTATTCGCGTAGCTAGCACGGCAAGCCACATAATGTGCGCTACGCGCTTCTGAACCGTCATTGG
>Rosalind_5814
ACGCAAAGCCGAGGGTGCTCAGCGGTAACCTATTGATTAGGGATAGCTATAATGTCTACCGTAACTCGACTCGTTAAAGCGGTCCCCCGACATCG
>Rosalind_1691
CTTGCAGGACACTGCGTCCTGGGTGAAGCAAGAGAAGGCAACTTCGGCTGAACTTTACTGAAGTGCAATATAAGAGGCTTAGCT
>Rosalind_9366
CCAGTTTAGCCGATGTGCTGATCAGATCTCGCACCTTGCTGAGGAACTCATTTACCAACGGACGTTTGTCCCCGTAAACAAGCCTAGTGT
>Rosalind_9627
GCAAACTTCCTACCGTACACTGTGCTAAAAACGCCGAGAAAATGCCTAAAGATCACAGGCGCACTACCGCTGAGCCAGGTTGTGCCTTAT
>Rosalind_4998
ACCTATTGCTGTTTTTTAGCAAAGACTTCAAGAGGAACACAGTGGAGTCACTTCCAATTAGTCCCGATGTACCCCAAACACAGGGCCA
>Rosalind_0390
TACCGAACCAATATCTGGGCCTGGTCGAGCCATTAGGTCACGAACGGAGAACCATTTAGATAACATGGCCCCAGCTATTATGTA
>Rosalind_5246
GGCCTGACGCGAGCCGGTCTAAAGACATTCACAGGCCTTACTCACATCGATTTTCACAAGCAGACTTTAAGGACGACCAATAGTC
>Rosalind_8220
ACTATCGTAGAACCCAGCCCCATGACAACTTCAGATCAGTGGGTGCGCTGCGTCGAAAACTAAAAACGCTGACGCTAACGG
>Rosalind_4192
AGTGGGTACGAATCATATCAGCGCAACGGGCCAACAGGCGGCTTCTAGCTGCGCTGCAGCCGAAACACGTCAAGATTCGCTC
>Rosalind_2131
TTAATTCCGACTATGCACGGTAGGTACTCGCTCATTGTGGAAATATGTACGCCAACCGTAAAGCCTGTCATAAGCAATGGCGCCAGACAAAAAGTGTGGC
>Rosalind_4520
CTCCGAAGGCGTTCAGCAGCTCCGAAACGCGGGGGTTGCTAAGGGACGGAGATAGGGCTCGCTCCAGTTACTCATGGTCGAC
>Rosalind_5468
ATCGAATGAAGGCAATTAACACATAACGGACTGTATCGTGGGATCGAGCTCCGGAGACAATCTTACACCAAGGTGCTGATAG
>Rosalind_4787
TCTGCAGCCGATAGTTAAATAGGTGATTCTTATTGTGTGCAAACACGTGCAGAAGAAAGAGAGTCATCGATTTCTGGACTTCAACC
>Rosalind_2690
GGAGTGGTTCCTGGGTTTATACGACCAACCACGATAGGGCAGCTTCCGCAGATAAGCACTCCAGCACATAGTCGGCTGGCGCCGA
>Rosalind_5974
CGCACCCTGACCATGTGGATTAGGCTGGAACAGAGTTTCACCCCAGGGCGTGTGAATGATTGGGGTGTGCACCGACACAT
>Rosalind_5750
TCGCTTCGCTTTAGGGGACACCGTACTCCCCATTTTAGGACGCGATTGGGTCTTGTTCCACCCAGAGCCTAACAAAATTGGTAGCACCACCGA
>Rosalind_8077
ACTACCCTCGTAGCTTCTGGATTCGTGCCAGCGGCGGCCGTCTTGACTGGGAAGCGAGCCTTACCTCGCTTGCTTCGGCGTCGCGAGGC
>Rosalind_2644
AACGTCATTAGGTCTGCTTCAGACACTGCAAGAGAGGGAATCCACACAACCTCTAGAGAGGAAGATTCCTGTAACCCAATGAGTATGCTAC
>Rosalind_3504
GTTGTTTTCTACCCACTTCCGGAGTTCCCAACAAATTTCCTATTAACCGGGGTTCCCGTTGGACTAGCCAAAGTTTGGTACGTCGAACCG
>Rosalind_6356
CATATAGGATGTTTACCTAAGTCGACGCGCGCACAGTAGTGAACCAGCTTGAACTTTTTTAATGTCGTCCTACAGGATCATCCCGTAAAAGAGGG
>Rosalind_1254
CCATATACCCCAGAACGGGGATTACGGGGAACACAGCGACTTGACTGCCAGCATCGGGGTCGTCCTCGTGCGTCGCCTTCCCCTTTC
>Rosalind_4094
CATGTAACCCCCGCCAGACGGCCTAGCCATCCTGATCGAGGGAAATCAACGTCGTTAGAGCATGCAGTTGAAAAAATATGGACAGGGTATATTAGGCAA
>Rosalind_5269
ATACAGGGTACTCAATGCGTCTTGCTTTTGCTTGTACTCCATGCCCCGTTAGATATGGAACTGATGCGTATATGGCCGTG
>Rosalind_9519
TACCAGTCACCCAAGTAACCCGCCATCCTCTGGAACAAATCTCTGTACTGTGCATGTAGGGGCCAGTATTCTCACGGAGC
>Rosalind_5948
TCCTCCCACTACACTCCGCCACAACAGAAAGCTTAGGGACGGGTAGTGGAAGGCGTGGAAAGCGATACTCCGAGCGTACAACGAGTCA
>Rosalind_5038
CGTCATGTCCATGGCCTCTCAACTGCATCCACTACAAATCAATTGGAAGTATGTAGTCTGATGGGAGTACCAGTCCATTCACTTTTATCCAGGACTAG
>Rosalind_9004
TTTGACACCTTTACTCTGTCTTGCACGCGAACAACGTGATTTACTTGTTCGTACGATGTTCTAGAGCGCCACCCGGTATGATCAA
>Rosalind_8042
TGACTCTTCGGACATGTCCGCCTAGGCCGGTTTCCATCTAACTTATGCGCCCGGGACTTGAAGACAAAGAATAAGCGACACAG
>Rosalind_4046
CCCTTTGGAATCTGGACGAATGTGGGTACGATCCATACGGCGCAATCGCGACGGGACCGCTTCGATAACTCAAGTTCAATACCTACTATCATC
>Rosalind_3350
TAATCTTCATCATCACCACGGTCATATGAAGAACTTACTTTCTTGCTATCCTCGAGGGAATATCATCCTAGGATGTGCCCCATGTGGGACGCTTGAGCGC
>Rosalind_6735
CGGGATCCGTGACTATCACTCAGCCCTCCAAAGAGACCTGGGAATGGGCTTTTTGCCCGCAGCAGACGTTGACTCGAAAAATGCGCACGCATC
>Rosalind_1534
GTTATGACCTAAGGCAACTGAACCGCGAAAAGAACACCGTAGCACGCTCGGTGGAGATGAATCCTCGCAAGACCGGAGATCTGCAGCGAGCGGT
>Rosalind_1264
ATTTGATGTGTATGCCTGGTGCGGTGCTGCGGGTCTGGAAGGCCTACCGAATATAATCGCCCGGCTCAAGCTTCTGCGGTAGAATGGACTAAACA
>Rosalind_9438
GGTTACCCGATAGTCCTACACAACAAAATCATGCAAAAAGGGCTAGCGTAAGTCCAAGTCCCACTGTCCGGAAATCTGGAAATCTAAAAGGGGGCCC
>Rosalind_6928
TGCTGTATTTTTTGTCGATTCGTTGTGAATAACTCGATTTGAGCTAGTCGGTAAATGAGTATCGCTCGGCGAGATACGCTCCGTATAAG
>Rosalind_8334
GTGCTCATTCGTGTGCAATGAATCCGAATGAATTCGACATCTTTGACTGCTGGTCGGGATCTGGTGGTCATATATCAGCAATCACCAG
>Rosalind_4505
GGGACTGTCCGTACAGACTTATACATATCCATGAGCTGCTCTTTCGCGCCGCTTACTAAACTGCCCCCTGGGTAAGCAAGCCTCATACA
>Rosalind_6088
GCGCTGACACAAACGAGTTTCTGAATCCTACTGCGAGCGCCGCAGCAGTTTGGAACACTAGACCCCCATTCACCGATCCGTATAT
>Rosalind_9545
AGTGAAGGTGGGCTCTAAGCCGATCGGTCCCATTCAGAAATAACGATGCTGGTAACGTCAGTAAATGTCTAATCACATGTCTGCCTCGAATT
>Rosalind_6289
AATGTCTGACAATAAACATGGCGGCTCTGCGACCCGGACTCGGAACCTAAGCGATATGATAGCAGGAACTGATCGCATCAGCAC
>Rosalind_8364
CCTTCACCAGCGTACAATGAACGGCTGGCTCATGATCATCTACCTTTTGCGGTAGGTACGCAGTGGTGGACGGATATGACCCCGCTCCTGTACCA
>Rosalind_0299
GCGTTGAAGGGGTGACAGCGCTGGGAGATCTTCCTAGGGAGTTCTAGGCGACATTTTCATGTTGAGAACGGGGGTTGGGTACGGTG
>Rosalind_5172
TTTTCGTGTCATAGCAATGCGGGAATCACTAATCGTGAGCCCACATGTAGCTCTTTGATTGGGATCTCTGCACTGAGGCCTGCC
>Rosalind_1211
GGGGCCGTCGGTGCTTACACGTACTCGGAAAAGCTCGGATAGCTGGGCGCCGCGATTGTGCGCAGTATTCTGCGGCCGGTTAGAA
    """

#large_dataset = open('rosalind_grph.txt').read()

for edge in overlap_graph(small_dataset, 3):
    print edge[0], edge[1]
raw_input()